{"code":"import { currentTime, currentFrameTime, onFrameUpdate } from 'framesync';\r\nimport action from '../../action';\r\nvar frame = function () { return action(function (_a) {\r\n    var update = _a.update;\r\n    var isActive = true;\r\n    var startTime = currentTime();\r\n    var nextFrame = function () {\r\n        if (!isActive)\r\n            return;\r\n        update(Math.max(currentFrameTime() - startTime, 0));\r\n        onFrameUpdate(nextFrame);\r\n    };\r\n    onFrameUpdate(nextFrame);\r\n    return {\r\n        stop: function () { return isActive = false; }\r\n    };\r\n}); };\r\nexport default frame;\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/animations/every-frame/index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,gBAAgB,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AACzE,OAAO,MAAkB,MAAM,cAAc,CAAC;AAE9C,IAAM,KAAK,GAAG,cAAc,OAAA,MAAM,CAAC,UAAC,EAAU;QAAR,kBAAM;IAC1C,IAAI,QAAQ,GAAG,IAAI,CAAC;IACpB,IAAM,SAAS,GAAG,WAAW,EAAE,CAAC;IAEhC,IAAM,SAAS,GAAG;QAChB,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;QACpD,aAAa,CAAC,SAAS,CAAC,CAAC;IAC3B,CAAC,CAAC;IAEF,aAAa,CAAC,SAAS,CAAC,CAAC;IAEzB,OAAO;QACL,IAAI,EAAE,cAAM,OAAA,QAAQ,GAAG,KAAK,EAAhB,CAAgB;KAC7B,CAAC;AACJ,CAAC,CAAC,EAf0B,CAe1B,CAAC;AAEH,eAAe,KAAK,CAAC\"}"}
