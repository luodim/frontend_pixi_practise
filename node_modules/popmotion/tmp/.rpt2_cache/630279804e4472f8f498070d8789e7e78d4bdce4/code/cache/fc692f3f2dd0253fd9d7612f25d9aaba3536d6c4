{"code":"var isNum = function (v) { return typeof v === 'number'; };\r\nexport var isPoint = function (point) {\r\n    return point.x !== undefined && point.y !== undefined;\r\n};\r\nexport var isPoint3D = function (point) {\r\n    return point.z !== undefined;\r\n};\r\nvar toDecimal = function (num, precision) {\r\n    if (precision === void 0) { precision = 2; }\r\n    precision = Math.pow(10, precision);\r\n    return Math.round(num * precision) / precision;\r\n};\r\nvar ZERO_POINT = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n};\r\nvar distance1D = function (a, b) { return Math.abs(a - b); };\r\nexport var angle = function (a, b) {\r\n    if (b === void 0) { b = ZERO_POINT; }\r\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\r\n};\r\nexport var degreesToRadians = function (degrees) { return degrees * Math.PI / 180; };\r\nexport var dilate = function (a, b, dilation) { return a + ((b - a) * dilation); };\r\nexport var distance = function (a, b) {\r\n    if (b === void 0) { b = ZERO_POINT; }\r\n    if (isNum(a) && isNum(b)) {\r\n        return distance1D(a, b);\r\n    }\r\n    else if (isPoint(a) && isPoint(b)) {\r\n        var xDelta = distance1D(a.x, b.x);\r\n        var yDelta = distance1D(a.y, b.y);\r\n        var zDelta = (isPoint3D(a) && isPoint3D(b)) ? distance1D(a.z, b.z) : 0;\r\n        return Math.sqrt((Math.pow(xDelta, 2)) + (Math.pow(yDelta, 2)) + (Math.pow(zDelta, 2)));\r\n    }\r\n    return 0;\r\n};\r\nexport var getProgressFromValue = function (from, to, value) {\r\n    var toFromDifference = to - from;\r\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\r\n};\r\nexport var getValueFromProgress = function (from, to, progress) {\r\n    return (-progress * from) + (progress * to) + from;\r\n};\r\nexport var pointFromAngleAndDistance = function (origin, angle, distance) {\r\n    angle = degreesToRadians(angle);\r\n    return {\r\n        x: distance * Math.cos(angle) + origin.x,\r\n        y: distance * Math.sin(angle) + origin.y\r\n    };\r\n};\r\nexport var radiansToDegrees = function (radians) { return radians * 180 / Math.PI; };\r\nexport var smooth = function (newValue, oldValue, duration, smoothing) {\r\n    if (smoothing === void 0) { smoothing = 0; }\r\n    return toDecimal(oldValue + (duration * (newValue - oldValue) / Math.max(smoothing, duration)));\r\n};\r\nexport var speedPerFrame = function (xps, frameDuration) {\r\n    return (isNum(xps)) ? xps / (1000 / frameDuration) : 0;\r\n};\r\nexport var speedPerSecond = function (velocity, frameDuration) {\r\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\r\n};\r\nexport var stepProgress = function (steps, progress) {\r\n    var segment = 1 / (steps - 1);\r\n    var target = 1 - (1 / steps);\r\n    var progressOfTarget = Math.min(progress / target, 1);\r\n    return Math.floor(progressOfTarget / segment) * segment;\r\n};\r\n//# sourceMappingURL=calc.js.map","map":"{\"version\":3,\"file\":\"calc.js\",\"sourceRoot\":\"\",\"sources\":[\"src/calc.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/mattperry/Sites/popmotion/packages/popmotion/calc.d.ts","text":"import { Point, Point2D, Point3D } from './input/pointer/types';\r\nexport declare const isPoint: (point: any) => point is Point;\r\nexport declare const isPoint3D: (point: Point) => point is Point3D;\r\nexport declare const angle: (a: Point, b?: Point) => number;\r\nexport declare const degreesToRadians: (degrees: number) => number;\r\nexport declare const dilate: (a: number, b: number, dilation: number) => number;\r\nexport declare const distance: (a: number | Point2D | Point3D, b?: number | Point2D | Point3D) => number;\r\nexport declare const getProgressFromValue: (from: number, to: number, value: number) => number;\r\nexport declare const getValueFromProgress: (from: number, to: number, progress: number) => number;\r\nexport declare const pointFromAngleAndDistance: (origin: Point2D, angle: number, distance: number) => {\r\n    x: number;\r\n    y: number;\r\n};\r\nexport declare const radiansToDegrees: (radians: number) => number;\r\nexport declare const smooth: (newValue: number, oldValue: number, duration: number, smoothing?: number) => number;\r\nexport declare const speedPerFrame: (xps: number, frameDuration: number) => number;\r\nexport declare const speedPerSecond: (velocity: number, frameDuration: number) => number;\r\nexport declare const stepProgress: (steps: number, progress: number) => number;\r\n"}}
