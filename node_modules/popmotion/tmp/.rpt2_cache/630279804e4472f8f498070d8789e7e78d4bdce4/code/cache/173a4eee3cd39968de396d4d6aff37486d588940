{"code":"import { cancelOnFrameUpdate, onFrameUpdate } from 'framesync';\r\nimport action from '../../action';\r\nimport listen from '../listen';\r\nimport { defaultPointerPos, eventToPoint } from '../pointer/utils';\r\nvar point = defaultPointerPos();\r\nvar isMouseDevice = false;\r\nif (typeof document !== 'undefined') {\r\n    var updatePointLocation = function (e) {\r\n        isMouseDevice = true;\r\n        eventToPoint(e, point);\r\n    };\r\n    listen(document, 'mousedown mousemove', true)\r\n        .start(updatePointLocation);\r\n}\r\nvar mouse = function (_a) {\r\n    var _b = (_a === void 0 ? {} : _a).preventDefault, preventDefault = _b === void 0 ? true : _b;\r\n    return action(function (_a) {\r\n        var update = _a.update;\r\n        var updatePoint = function () { return update(point); };\r\n        var onMove = function (e) {\r\n            if (preventDefault)\r\n                e.preventDefault();\r\n            onFrameUpdate(updatePoint);\r\n        };\r\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\r\n        if (isMouseDevice)\r\n            onFrameUpdate(updatePoint);\r\n        return {\r\n            stop: function () {\r\n                cancelOnFrameUpdate(updatePoint);\r\n                updateOnMove.stop();\r\n            }\r\n        };\r\n    });\r\n};\r\nexport default mouse;\r\n//# sourceMappingURL=mouse.js.map","map":"{\"version\":3,\"file\":\"mouse.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/input/pointer/mouse.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,mBAAmB,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AAC/D,OAAO,MAAkB,MAAM,cAAc,CAAC;AAC9C,OAAO,MAAM,MAAM,WAAW,CAAC;AAC/B,OAAO,EAAE,iBAAiB,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAGnE,IAAM,KAAK,GAAiB,iBAAiB,EAAE,CAAC;AAChD,IAAI,aAAa,GAAG,KAAK,CAAC;AAE1B,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;IACnC,IAAM,mBAAmB,GAAG,UAAC,CAAa;QACxC,aAAa,GAAG,IAAI,CAAC;QACrB,YAAY,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC,CAAC;IAEF,MAAM,CAAC,QAAQ,EAAE,qBAAqB,EAAE,IAAI,CAAC;SAC1C,KAAK,CAAC,mBAAmB,CAAC,CAAC;CAC/B;AAED,IAAM,KAAK,GAAG,UAAC,EAA4C;QAA1C,6CAAqB,EAArB,0CAAqB;IAAkC,OAAA,MAAM,CAAC,UAAC,EAAU;YAAR,kBAAM;QACtF,IAAM,WAAW,GAAG,cAAM,OAAA,MAAM,CAAC,KAAK,CAAC,EAAb,CAAa,CAAC;QAExC,IAAM,MAAM,GAAG,UAAC,CAAa;YAC3B,IAAI,cAAc;gBAAE,CAAC,CAAC,cAAc,EAAE,CAAC;YACvC,aAAa,CAAC,WAAW,CAAC,CAAC;QAC7B,CAAC,CAAC;QAEF,IAAM,YAAY,GAAG,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEjE,IAAI,aAAa;YAAE,aAAa,CAAC,WAAW,CAAC,CAAC;QAE9C,OAAO;YACL,IAAI,EAAE;gBACJ,mBAAmB,CAAC,WAAW,CAAC,CAAC;gBACjC,YAAY,CAAC,IAAI,EAAE,CAAC;YACtB,CAAC;SACF,CAAC;IACJ,CAAC,CAAC;AAlBsE,CAkBtE,CAAC;AAEH,eAAe,KAAK,CAAC\"}","dts":{"name":"/Users/mattperry/Sites/popmotion/packages/popmotion/input/pointer/mouse.d.ts","text":"import { Action } from '../../action';\r\nimport { PointerProps } from './types';\r\ndeclare const mouse: ({ preventDefault }?: PointerProps) => Action;\r\nexport default mouse;\r\n"}}
