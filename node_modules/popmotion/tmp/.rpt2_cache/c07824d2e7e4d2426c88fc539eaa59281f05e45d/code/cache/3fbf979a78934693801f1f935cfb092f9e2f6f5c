{"code":"import * as tslib_1 from \"tslib\";\r\nimport Chainable from '../chainable';\r\nimport createObserver from '../observer';\r\nvar Action = (function (_super) {\r\n    tslib_1.__extends(Action, _super);\r\n    function Action() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Action.prototype.create = function (props) {\r\n        return new Action(props);\r\n    };\r\n    Action.prototype.start = function (observerCandidate) {\r\n        if (observerCandidate === void 0) { observerCandidate = {}; }\r\n        var isComplete = false;\r\n        var subscription = {\r\n            stop: function () { return undefined; }\r\n        };\r\n        var _a = this.props, init = _a.init, observerProps = tslib_1.__rest(_a, [\"init\"]);\r\n        var observer = createObserver(observerCandidate, observerProps, function () {\r\n            isComplete = true;\r\n            subscription.stop();\r\n        });\r\n        var api = init(observer);\r\n        subscription = api\r\n            ? tslib_1.__assign({}, subscription, api) : subscription;\r\n        if (observerCandidate.registerParent) {\r\n            observerCandidate.registerParent(subscription);\r\n        }\r\n        if (isComplete)\r\n            subscription.stop();\r\n        return subscription;\r\n    };\r\n    return Action;\r\n}(Chainable));\r\nexport { Action };\r\nexport default (function (init) { return new Action({ init: init }); });\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/action/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,SAAS,MAAM,cAAc,CAAC;AACrC,OAAO,cAAc,MAAM,aAAa,CAAC;AAIzC;IAA4B,kCAAiB;IAA7C;;IA+BA,CAAC;IA9BC,uBAAM,GAAN,UAAO,KAAkB;QACvB,OAAO,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,sBAAK,GAAL,UAAM,iBAAyC;QAAzC,kCAAA,EAAA,sBAAyC;QAC7C,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,YAAY,GAAqB;YACnC,IAAI,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS;SACtB,CAAC;QAEF,IAAM,eAAuC,EAArC,cAAI,EAAE,4CAA+B,CAAC;QAC9C,IAAM,QAAQ,GAAG,cAAc,CAAC,iBAAiB,EAAE,aAAa,EAAE;YAChE,UAAU,GAAG,IAAI,CAAC;YAClB,YAAY,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE3B,YAAY,GAAG,GAAG;YAChB,CAAC,sBAAM,YAAY,EAAK,GAAG,EAC3B,CAAC,CAAC,YAAY,CAAC;QAEjB,IAAK,iBAAqC,CAAC,cAAc,EAAE;YACxD,iBAAqC,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;SACrE;QAED,IAAI,UAAU;YAAE,YAAY,CAAC,IAAI,EAAE,CAAC;QAEpC,OAAO,YAAY,CAAC;IACtB,CAAC;IACH,aAAC;AAAD,CAAC,AA/BD,CAA4B,SAAS,GA+BpC;;AAED,gBAAe,UAAC,IAAgB,IAAK,OAAA,IAAI,MAAM,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,EAApB,CAAoB,EAAC\"}","dts":{"name":"/Users/mattperry/Sites/popmotion/packages/popmotion/action/index.d.ts","text":"import Chainable from '../chainable';\r\nimport { ObserverCandidate } from '../observer/types';\r\nimport { ActionInit, ActionProps, ColdSubscription } from './types';\r\nexport declare class Action extends Chainable<Action> {\r\n    create(props: ActionProps): Action;\r\n    start(observerCandidate?: ObserverCandidate): ColdSubscription;\r\n}\r\ndeclare const _default: (init: ActionInit) => Action;\r\nexport default _default;\r\n"}}
