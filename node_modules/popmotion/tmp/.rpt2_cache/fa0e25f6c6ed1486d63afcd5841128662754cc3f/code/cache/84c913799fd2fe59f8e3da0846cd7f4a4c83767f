{"code":"import * as tslib_1 from \"tslib\";\r\nimport action from '../action';\r\nimport { getValueFromProgress } from '../calc';\r\nimport parallel from './parallel';\r\nvar crossfade = function (a, b) { return action(function (observer) {\r\n    var balance = 0;\r\n    var fadable = parallel(a, b).start(tslib_1.__assign({}, observer, { update: function (_a) {\r\n            var va = _a[0], vb = _a[1];\r\n            observer.update(getValueFromProgress(va, vb, balance));\r\n        } }));\r\n    return {\r\n        setBalance: function (v) { return balance = v; },\r\n        stop: function () { return fadable.stop(); }\r\n    };\r\n}); };\r\nexport default crossfade;\r\n//# sourceMappingURL=crossfade.js.map","map":"{\"version\":3,\"file\":\"crossfade.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/compositors/crossfade.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,MAAkB,MAAM,WAAW,CAAC;AAC3C,OAAO,EAAE,oBAAoB,EAAE,MAAM,SAAS,CAAC;AAC/C,OAAO,QAAQ,MAAM,YAAY,CAAC;AAElC,IAAM,SAAS,GAAG,UAAC,CAAS,EAAE,CAAS,IAAK,OAAA,MAAM,CAAC,UAAC,QAAQ;IAC1D,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,sBAC/B,QAAQ,IACX,MAAM,EAAE,UAAC,EAA0B;gBAAzB,UAAE,EAAE,UAAE;YACd,QAAQ,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;QACzD,CAAC,IACD,CAAC;IAEH,OAAO;QACL,UAAU,EAAE,UAAC,CAAS,IAAK,OAAA,OAAO,GAAG,CAAC,EAAX,CAAW;QACtC,IAAI,EAAE,cAAM,OAAA,OAAO,CAAC,IAAI,EAAE,EAAd,CAAc;KAC3B,CAAC;AACJ,CAAC,CAAC,EAb0C,CAa1C,CAAC;AAEH,eAAe,SAAS,CAAC\"}"}
