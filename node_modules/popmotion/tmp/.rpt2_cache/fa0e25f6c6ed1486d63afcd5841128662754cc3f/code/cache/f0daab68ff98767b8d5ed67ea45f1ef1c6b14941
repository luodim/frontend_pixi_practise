{"code":"import * as tslib_1 from \"tslib\";\r\nimport { getProgressFromValue } from '../../calc';\r\nimport { easeOut, linear } from '../../easing';\r\nimport { clamp } from '../../transformers';\r\nimport tween from '../tween';\r\nimport scrubber from '../tween/scrubber';\r\nvar clampProgress = clamp(0, 1);\r\nvar defaultEasings = function (values, easing) {\r\n    return values.map(function () { return easing || easeOut; }).splice(0, values.length - 1);\r\n};\r\nvar defaultTimings = function (values) {\r\n    var numValues = values.length;\r\n    return values.map(function (value, i) { return (i !== 0) ? i / (numValues - 1) : 0; });\r\n};\r\nvar interpolateScrubbers = function (input, scrubbers, update) {\r\n    var rangeLength = input.length;\r\n    var finalInputIndex = rangeLength - 1;\r\n    var finalScrubberIndex = finalInputIndex - 1;\r\n    var subs = scrubbers.map(function (scrub) { return scrub.start(update); });\r\n    return function (v) {\r\n        if (v <= input[0]) {\r\n            subs[0].seek(0);\r\n        }\r\n        if (v >= input[finalInputIndex]) {\r\n            subs[finalScrubberIndex].seek(1);\r\n        }\r\n        var i = 1;\r\n        for (; i < rangeLength; i++) {\r\n            if (input[i] > v || i === finalInputIndex)\r\n                break;\r\n        }\r\n        var progressInRange = getProgressFromValue(input[i - 1], input[i], v);\r\n        subs[i - 1].seek(clampProgress(progressInRange));\r\n    };\r\n};\r\nvar keyframes = function (_a) {\r\n    var easings = _a.easings, _b = _a.ease, ease = _b === void 0 ? linear : _b, times = _a.times, values = _a.values, tweenProps = tslib_1.__rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\r\n    easings = Array.isArray(easings)\r\n        ? easings\r\n        : defaultEasings(values, easings);\r\n    times = times || defaultTimings(values);\r\n    var scrubbers = easings.map(function (easing, i) { return scrubber({\r\n        from: values[i],\r\n        to: values[i + 1],\r\n        ease: easing\r\n    }); });\r\n    return tween(tslib_1.__assign({}, tweenProps, { ease: ease })).applyMiddleware(function (update) { return interpolateScrubbers(times, scrubbers, update); });\r\n};\r\nexport default keyframes;\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/animations/keyframes/index.ts\"],\"names\":[],\"mappings\":\"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\"}"}
