"use strict";
import * as tslib_1 from "tslib";
import action from '../action';
import { getValueFromProgress } from '../calc';
import parallel from './parallel';
var crossfade = function (a, b) { return action(function (observer) {
    var balance = 0;
    var fadable = parallel(a, b).start(tslib_1.__assign({}, observer, { update: function (_a) {
            var va = _a[0], vb = _a[1];
            observer.update(getValueFromProgress(va, vb, balance));
        } }));
    return {
        setBalance: function (v) { return balance = v; },
        stop: function () { return fadable.stop(); }
    };
}); };
export default crossfade;
//# sourceMappingURL=crossfade.js.map