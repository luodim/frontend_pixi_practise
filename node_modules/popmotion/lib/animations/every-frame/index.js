"use strict";
import { currentTime, currentFrameTime, onFrameUpdate } from 'framesync';
import action from '../../action';
var frame = function () { return action(function (_a) {
    var update = _a.update;
    var isActive = true;
    var startTime = currentTime();
    var nextFrame = function () {
        if (!isActive)
            return;
        update(Math.max(currentFrameTime() - startTime, 0));
        onFrameUpdate(nextFrame);
    };
    onFrameUpdate(nextFrame);
    return {
        stop: function () { return isActive = false; }
    };
}); };
export default frame;
//# sourceMappingURL=index.js.map